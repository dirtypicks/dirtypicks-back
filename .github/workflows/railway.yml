# railway.yml
# üöÄ Configuraci√≥n de despliegue autom√°tico en Railway para DirtyPicks
# Crea y ejecuta tu backend Node + Prisma + Express con TypeScript

# Nombre del servicio
service:
  name: dirtypicks-back
  env: node

# Comandos de build y start
build:
  # 1Ô∏è‚É£ Instala dependencias
  install:
    - npm install
  # 2Ô∏è‚É£ Genera Prisma Client y compila TypeScript
  command:
    - npx prisma generate
    - npm run build

# Comando que Railway ejecuta para iniciar el servicio
start:
  command: npm start

# Puerto expuesto (Railway detecta autom√°ticamente pero lo declaramos expl√≠citamente)
ports:
  - 4000

# Railway detectar√° el framework autom√°ticamente,
# pero lo declaramos por claridad.
framework:
  type: node
